(function(){"use strict";var a=window.IO={events:{},preventDefault:!1,register:function(a,b,c){return this.events[a]||(this.events[a]=[]),this.events[a].push({fun:b,thisArg:c,args:Array.prototype.slice.call(arguments,3)}),this},unregister:function(a,b){return this.events[a]?(this.events[a]=this.events[a].filter(function(a){return a.fun!==b}),this):this},fire:function(a){function d(a){var d=a.fun.apply(a.thisArg,a.args.concat(b));d===!1&&(c.preventDefault=!0)}this.preventDefault=!1;if(!this.events[a])return;var b=Array.prototype.slice.call(arguments,1),c=this;this.events[a].forEach(d)},xhr:function(b){b.headers=b.headers||{"Content-Type":"application/x-www-form-urlencoded"},typeof b.data=="object"&&(b.data=a.urlstringify(b.data));var c=new XMLHttpRequest,d=b.complete;return c.open(b.method||"GET",b.url),c.addEventListener("readystatechange",function(){c.readyState===4&&d&&d.call&&d.call(b.thisArg,c.responseText,c)}),Object.keys(b.headers).forEach(function(a){c.setRequestHeader(a,b.headers[a])}),c.send(b.data),c},jsonp:function(b){var c=document.createElement("script"),d="IO_"+Date.now()*Math.ceil(Math.random());window[d]=function(){b.fun.apply(b.thisArg,arguments),window[d]=null,c.parentNode.removeChild(c)},b.url.indexOf("?")===-1&&(b.url+="?"),typeof b.data=="object"&&(b.url+=a.urlstringify(b.data)),b.jsonpName=b.jsonpName||"jsonp",c.src=b.url+"&"+b.jsonpName+"="+d,document.head.appendChild(c)},urlstringify:function(){var a={number:!0,string:!0,"boolean":!0},b=function(b){return typeof b in a?encodeURIComponent(b.toString()):""},c=function(a,c){return c=b(c),a.map(function(a){return c+"="+b(a)})};return function(a){return Object.keys(a).map(function(d){var e=a[d];return Array.isArray(e)?c(e,d):b(d)+"="+b(e)}).join("&")}}(),loadScript:function(a,b){var c=document.createElement("script");c.src=a,c.onload=b,document.head.appendChild(c)}};a.decodehtml=function(){var a={quot:'"',amp:"&",apos:"'",lt:"<",gt:">",nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",times:"×",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",divide:"÷",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",fnof:"ƒ",circ:"ˆ",tilde:"˜",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",ensp:" ",emsp:" ",thinsp:" ",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",bull:"•",hellip:"…",permil:"‰",prime:"′",Prime:"″",lsaquo:"‹",rsaquo:"›",oline:"‾",frasl:"⁄",euro:"€",image:"ℑ",weierp:"℘",real:"ℜ",trade:"™",alefsym:"ℵ",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lArr:"⇐",uArr:"⇑",rArr:"⇒",dArr:"⇓",hArr:"⇔",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪","int":"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",lang:"〈",rang:"〉",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦"};return function(b){return b.replace(/\&#?[\w;]+;/g,function(b){return b.slice(1).split(";").map(function(b){return b[0]==="#"?String.fromCharCode(Number(b.slice(1))):a[b]||b}).join("")})}}(),["in","out"].forEach(function(c){var d=c+"put";a[c]={buffer:[],receive:function(c){return a.fire("receive"+d,c),a.preventDefault?(b.log(c,"preventDefault"),this):(this.buffer.push(c),this)},tick:function(){return this.buffer.length&&a.fire(d,this.buffer.shift()),this},flush:function(){a.fire("before"+d);if(!this.buffer.length)return this;var b=this.buffer.length;while(b-->0)this.tick();return a.fire("after"+d),this.buffer=[],this}}});var b=window.bot={invocationPattern:"!!",roomid:parseFloat(location.pathname.match(/\d+/)[0]),commandRegex:/^\/([\w\-]+)(?:\s(.+))?$/,commands:{},commandDictionary:null,listeners:[],parseMessage:function(c){b.log(c,"parseMessage input");if(!this.validateMessage(c)){b.log(c,"parseMessage invalid");return}var d=a.decodehtml(c.content);d=d.slice(this.invocationPattern.length).trim(),d=this.Message(d,c),b.log(d,"parseMessage valid");if(this.banlist.contains(c.user_id)){b.log(c,"parseMessage banned"),d.reply("You iz in mindjail");return}try{if(d.startsWith("/")){b.log(d,"parseMessage command"),this.parseCommand(d);return}this.callListeners(d)}catch(e){var f="Could not process input. Error: "+e.message;e.lineNumber&&(f+=" on line "+e.lineNumber),e.column&&(f+=" on column "+e.column),d.directreply(f),console.error(e,f)}},parseCommand:function(a){b.log(a,"parseCommand input");var c=this.commandRegex.exec(a);if(!c){a.reply("Invalid command "+a);return}var d=c[1].toLowerCase();b.log(c,"parseCommand matched");var e=this.getCommand(d);if(e.error){a.reply(e.error);return}if(!e.canUse(a.get("user_id"))){a.reply("You do not have permission to use the command "+d);return}b.log(e,"parseCommand calling");var f=this.Message(a.slice(d.length+1).trim(),a.get()),g=e.exec(f);g&&a.reply(g)},validateMessage:function(a){var b=a.content.toLowerCase().trim();return b.startsWith(this.invocationPattern)},commandExists:function(a){return this.commands.hasOwnProperty(a)},getCommand:function(a){if(!this.commandExists(a)){this.commandDictionary.maxCost=Math.floor(a.length/5+1);var b="Command "+a+" does not exist.",c=this.commandDictionary.search(a);return c.length&&(b+=" Did you mean: "+c.join(", ")),{error:b}}return this.commands[a]},listen:function(a,b,c){Array.isArray(a)?a.forEach(function(a){this.listen(a,b,c)},this):this.listeners.push({pattern:a,fun:b,thisArg:c})},callListeners:function(a){var c=!1;this.listeners.forEach(function(d){var e=a.exec(d.pattern),f;e&&(c=!0,f=d.fun.call(d.thisArg,a),b.log(e,f),f&&a.reply(f))}),c||a.reply("Y U NO MAEK SENSE!?")},reply:function(a,b){var c=b.user_name.replace(/\s/g,""),e=b.room_id;d.add("@"+c+" "+a,e)},directreply:function(a,b){var c=b.message_id,e=b.room_id;d.add(":"+c+" "+a,e)},addCommand:function(a){if(!a.exec||!a.del)a=this.Command(a);this.commands[a.name]=a,this.commandDictionary.trie.add(a.name)},stoplog:!1,log:function(){this.stoplog||console.log.apply(console,arguments)},stop:function(){this.stopped=!0},"continue":function(){this.stopped=!1}};b.banlist=[],b.banlist.contains=function(a){return this.indexOf(a)>=0},b.banlist.add=function(a){return this.push(a)},b.banlist.remove=function(a){var b=this.indexOf(a);return b>=0?this.splice(b,1):null},b.Command=function(a){return a.name=a.name.toLowerCase(),a.permissions=a.permissions||{},a.permissions.use=a.permissions.use||"ALL",a.permissions.del=a.permissions.del||"NONE",a.description=a.description||"",a.canUse=function(a){var b=this.permissions.use;return b==="ALL"||b!=="NONE"&&b.indexOf(a)>-1},a.canDel=function(a){var b=this.permissions.del;return b!=="NONE"&&b==="ALL"||b.indexOf(a)>-1},a.exec=function(){return this.fun.apply(this.thisArg,arguments)},a.del=function(){delete b.commands[a.name]},a},b.Message=function(a,c){var e=Object(a);e.content=a;var f={respond:function(a){d.add(a,c.room_id)},reply:function(a,d){d=d||c.user_name,b.reply(a,Object.merge(c,{user_name:d}))},directreply:function(a,d){d=d||c.message_id,b.directreply(a,Object.merge(c,{message_id:d}))},codify:function(a){var b="    ",c=a.replace("	",b),d=c.split(/[\n\r]/g);return d.reduce(function(a,c){return c.startsWith(b)||(c=b+c),a+c+"\n"},"")},parse:function(){return b.parseCommandArgs(a)},exec:function(b){var c=b.exec(a);return this.matches=c?c:[],c},get:function(a){return a?c[a]:c},set:function(a,b){return c[a]=b}};return Object.keys(f).forEach(function(a){e[a]=f[a]}),e},a.register("receiveinput",b.validateMessage,b),a.register("input",b.parseMessage,b);var c={times:{},pollInterval:5e3,init:function(){function e(a){a=JSON.parse(a),b.log(a),c.times["r"+d]=a.time,c.loopage()}var c=this,d=location.pathname.match(/\d+/)[0];a.xhr({url:"/chats/"+d+"/events/",data:fkey({since:0,mode:"Messages",msgCount:0}),method:"POST",complete:e})},poll:function(){var b=this;a.xhr({url:"/events",data:fkey(b.times),method:"POST",complete:b.pollComplete,thisArg:b})},pollComplete:function(b){if(!b)return;b=JSON.parse(b);var c=this;Object.keys(b).forEach(function(a){var d=b[a];d.t&&(c.times[a]=d.t),d.e&&d.e.forEach(c.handleMessageObject,c)}),a.in.flush()},handleMessageObject:function(b){if(b.event_type!==1&&b.event_type!==2)return;var c,d="<div class='full'>";if(b.content.startsWith(d)){c=b.content.slice(0,b.content.lastIndexOf("</div>")).replace(d,""),c.split("<br>").forEach(function(a){a=a.trim(),this.handleMessageObject(Object.merge(b,{content:a}))},this);return}a.in.receive(b)},loopage:function(){var a=this;setTimeout(function(){a.poll(),a.loopage()},this.pollInterval)}};c.init();var d={messages:{},add:function(c,d){d=d||b.roomid,a.out.receive({text:c+"\n",room:d})},build:function(a){this.messages[a.room]||(this.messages[a.room]=""),this.messages[a.room]+=a.text},send:function(){b.stopped||Object.keys(this.messages).forEach(function(a){var b=this.messages[a];if(!b)return;this.sendToRoom(b,a)},this),this.messages={}},sendToRoom:function(c,e){function f(a,f){b.log(f.status),f.status===409&&d.add(c,e)}a.xhr({url:"/chats/"+e+"/messages/new",data:{text:c,fkey:fkey().fkey},method:"POST",complete:f})},loopage:function(){a.out.flush()}};d.timer=setInterval(d.loopage,5e3),a.register("output",d.build,d),a.register("afteroutput",d.send,d),Object.merge=function(){return[].reduce.call(arguments,function(a,b){return Object.keys(b).forEach(function(c){a[c]=b[c]}),a},{})},String.prototype.indexesOf=function(a,b){var c=(b||0)-1,d=[];while((c=this.indexOf(a,c+1))>-1)d.push(c);return d},String.prototype.startsWith=function(a){return this.indexOf(a)===0},Object.defineProperty(Array.prototype,"invoke",{value:function(a){var b=[].slice.call(arguments,1),c=[];return this.forEach(function(d,e){var f=d;d[a]&&d[a].call&&(f=d[a].call(d,b)),c[e]=f}),c},configurable:!0,writable:!0}),Function.prototype.memoizeAsync=function(a,b){var c=Object.create(null),d=this;return function(e){if(c[e])return c[e];var f=[].slice.call(arguments);return f.push(function(d){c[e]=d,a.apply(b,arguments)}),d.apply(this,f)}};var e=function(){function a(){this.word=null,this.children={}}function b(c){if(!(this instanceof b))throw new TypeError("Illegal function call");c=parseInt(c,10);if(isNaN(c)||c<1)throw new TypeError("maxCost must be an integer > 1 ");this.maxCost=c,this.trie=new a}function c(a,b){var c=[],d,e,f;b==null?(f=0,e=a):(f=a,e=b-f);for(d=0;d<e;++d)c[d]=f++;return c}function d(a,b,d){var f=[],g=c(a.length+1);for(var h in d.children)e(d.children[h],h,a,g,f,b);return f}function e(a,b,c,d,f,g){var h=c.length+1,i=[d[0]+1],j,k,l,m,n;for(j=1;j<h;++j)k=i[j-1]+1,l=d[j]+1,c.charAt(j-1)!==b?m=d[j-1]+1:m=d[j-1],i.push(Math.min(k,l,m));n=i[i.length-1],n<=g&&a.word!==null&&f.push([a.word,n]);if(Math.min.apply(Math,i)<=g)for(b in a.children)e(a.children[b],b,c,i,f,g)}return a.prototype.add=function(b){var c=this,d,e=0;while(d=b.charAt(e++))d in c.children||(c.children[d]=new a),c=c.children[d];c.word=b},b.prototype={constructor:b,build:function(b){if(!Array.isArray(b))throw new TypeError("Cannot build a dictionary from "+b);this.trie=new a,b.forEach(function(a){this.trie.add(a)},this)},__sortfn:function(a,b){return a[1]-b[1]},search:function(a){a=a.valueOf();var b;if(typeof a!="string")throw new TypeError("Cannot search "+a);if(this.trie==null)throw new TypeError("Cannot search, dictionary isn't built yet");return b=d(a,this.maxCost,this.trie),b.sort(this.__sortfn),b.map(function(a){return a[0]})}},b}();b.commandDictionary=new e(3)})(),function(){function d(a){var b=[].slice.call(document.getElementById("sidebar").getElementsByClassName("user-container")),c=b.map(function(a){return a.id.match(/\d+/)[0]}),d=b.map(function(a){return a.getElementsByTagName("img")[0].title}),e=d.indexOf(a);return e<0?e:Number(c[e])}"use strict";var a={help:function(a){if(a.length){var b=bot.getCommand(a);if(b.error)return b.error;var c=b.description;return c?a+": "+c:"No info is available on command "+a}return"https://github.com/Titani/SO-ChatBot/wiki/Interacting-with-the-bot"},live:function(){return bot.stopped?(bot.continue(),"And on this day, you shall paint eggs for a giant bunny."):"I'm not dead! Honest!"},die:function(){return bot.stopped?"Kill me once, shame on you, kill me twice...":(bot.stop(),"You killed me!")},forget:function(a){var b=a.toLowerCase(),c=bot.getCommand(b);return c.error?c.error:c.canDel(a.get("user_id"))?(c.del(),"Command "+b+" forgotten."):"You are not authorized to delete the command "+a},ban:function(a){function f(a){if(a<0)return;bot.banlist.contains(a)?b+="User "+a+" already in mindjail. ":(bot.banlist.add(a),b+="User "+a+" added to mindjail. ")}var b="",e=a.parse().map(function(a){var e=Number(a);return/\D/.test(a)&&(e=d(a)),console.log(c,e,c.indexOf(e)),e<0?b+="Cannot find user "+a+". ":c.indexOf(e)>=0&&(b+="Cannot mindjail owner "+a+". ",e=-1),e}).forEach(f);return b},unban:function(a){function e(a){bot.banlist.contains(a)?(bot.banlist.remove(a),b+="User "+a+" freed from mindjail. "):b+="User "+a+" isn't in mindjail. "}var b="",c=a.parse().map(function(a){var c=Number(a);return/\D/.test(a)&&(c=d(a)),c<0&&(b+="Cannot find user "+a+". "),Number(c)}).forEach(e);return b},regex:function(a){var b=a.parse(),c=b[0],d=b[1],e=b[2]||"",f=new RegExp(d,e.toLowerCase()),g=f.exec(c);return bot.log(c,d,e,f,"regex parsed"),bot.log(g,"regex matched"),g?g.map(function(a){return"`"+a+"`"}).join(", "):"No matches."},jquery:function e(a){var b=a.split(" ");if(b.length>1)return b.map(e).join(" ");var c=a.trim().replace(/^\$/,"jQuery"),d=c.split("."),f=!1,g=c,h;return bot.log(c,d,"/jquery input"),d.length===3&&(d=[d[2]]),d[0]==="jQuery"&&jQuery[d[1]]?f=!0:d.length===1&&jQuery.prototype[d[0]]?(g=d[0],f=!0):jQuery[d[0]]&&(g="jQuery."+d[0],f=!0),f?h="http://api.jquery.com/"+g:h="http://api.jquery.com/?s="+encodeURIComponent(a),bot.log(h,"/jquery link"),h},choose:function(a){var b=a.parse();return bot.log(b,"/choose input"),b[Math.floor(Math.random()*b.length)]},online:function(){var a=document.getElementById("present-users").getElementsByClassName("avatar");return[].map.call(a,function(a){return a.children[0].title}).join(", ")},user:function(a){var b=a.replace(" ",""),c=b||a.get("user_id"),e=c;if(/\D/.test(c)){e=d(c),console.log(e);if(e<0)return"Can't find user "+c+" in this chatroom."}a.directreply("http://stackoverflow.com/users/"+e)},listcommands:function(){return"Available commands: "+Object.keys(bot.commands).join(", ")}};a.define=function(){var a={};return function(b,c){function f(c){var d=c.AbstractURL,e=c.AbstractText;bot.log(d,e,"/define finishCall input"),c.AbstractSource==="Merriam-Webster"&&(e=e.replace(b+" definition: ",""),bot.log(e,"/define finishCall webster")),e?(e=b+": "+e,e+=" [\\(source\\)]("+d+")"):e="Could not find definition for "+b,bot.log(e,"/define finishCall output"),a[b]=e,g(e)}function g(a){c&&c.call?c(a):b.directreply(a)}if(a.hasOwnProperty(b))return g(a[b]);var d="http://api.duckduckgo.com/?",e={q:"define "+b,format:"json"};d+=IO.urlstringify(e),IO.jsonp({url:d,fun:f,jsonpName:"callback"})}}(),a.define.async=!0,a.norris=function(a,b){function d(c){var d;c.type!=="success"?d="Chuck Norris is too awesome for this API. Try again.":d=IO.decodehtml(c.value.joke),b&&b.call?b(d):a.reply(d)}var c="http://api.icndb.com/jokes/random";IO.jsonp({url:c,fun:d,jsonpName:"callback"})},a.norris.async=!0,a.urban=function(){var a={};return function(b,c){function d(d){var e,f;d.result_type==="no_results"?e="Y U NO MAEK SENSE!!!???!!?11 No results.":(f=d.list[0],e="["+b+"]("+f.permalink+"): "+f.definition),a[b]=e,c&&c.call?c(e):b.reply(e)}if(!b.length)return"Y U NO PROVIDE ARGUMENTS!?";IO.jsonp({url:"http://www.urbandictionary.com/iphone/search/define",data:{term:b.content},jsonpName:"callback",fun:d})}}(),a.urban.async=!0;var b=a.parse=function(){var a={who:function(a){return a.get("user_name")},someone:function(){var a=document.getElementById("sidebar").getElementsByClassName("present-user"),b=[].filter.call(a,function(a){return Number(a.style.opacity)>=.5}),c=b[Math.floor(Math.random()*(b.length-1))];return c.getElementsByTagName("img")[0].title},digit:function(){return Math.floor(Math.random()*10)}},b={encode:function(a){return encodeURIComponent(a)},rand:function(a,b){return a=Number(a),b=Number(b),a?b||(b=a,a=0):(a=0,b=9),Math.floor(Math.random()*(b-a+1))+a}},c=/(?:.|^)\$(\w+)/g,d=/(?:.|^)\$(\w+)\((.*?)\)/g;return function e(f,g){function h(a,c,d){if(a.startsWith("$$"))return a.slice(1);var f="";return a[0]!=="$"&&(f=a[0]),b.hasOwnProperty(c)?(d=e(d,g).split(",").invoke("trim"),bot.log(c,d,"/parse func call"),f+=b[c].apply(null,d)):g.hasOwnProperty(c)&&g[c].apply&&(f+=g[c].apply(null,d)),f}function i(b,c){if(b.startsWith("$$"))return b.slice(1);var d="";return b[0]!=="$"&&(d=b[0]),g.hasOwnProperty(c)?d+=g[c]:a.hasOwnProperty(c)?d+=a[c](f):f.get&&f.get(c)?d+=f.get(c):d=b,d}return g=g||{},bot.log(f,g,"/parse input"),f.replace(d,h).replace(c,i)}}();a.tell=function(){var a={tell:!0,forget:!0};return function(b){function j(a){if(!a)return;g?b.directreply(a):b.reply(a)}var c=b.parse();bot.log(b.valueOf(),c,"/tell input");var d=c[0],e=c[1],f;if(!d||!e)return"Invalid /tell arguments. Use /help for usage info";f=bot.getCommand(e);if(f.error)return f.error;if(a.hasOwnProperty(e))return"Command "+e+" cannot be used in /tell.";if(!f.canUse(b.get("user_id")))return"You do not have permission to use command "+e;var g=!1,h=b.get();/^\d+$/.test(d)?(h.message_id=d,g=!0):h.user_name=d;var i=bot.Message(b.slice(d.length+e.length+2).trim(),h);bot.log(i,"/tell calling "+e),f.async?f.exec(i,j):j(f.exec(i))}}(),a.mdn=function(){var a={document:"",element:"",event:"",form:"",node:"Node",nodelist:"NodeList",range:"",text:"Text",window:""};return function b(c){var d=c.split(" ");if(d.length>1)return d.map(b).join(" ");var e=c.trim().split("."),f="https://developer.mozilla.org/en/",g;bot.log(c,e,"/mdn input");var h=e[0].toLowerCase();return a.hasOwnProperty(h)?(e[0]=a[h]||h,g=f+"DOM/"+e.join("."),bot.log(g,"/mdn DOM")):window[e[0]]?(g=f+"JavaScript/Reference/Global_Objects/"+e.join("/"),bot.log(g,"/mdn global")):(g="https://developer.mozilla.org/en-US/search?q="+c,bot.log(g,"/mdn unknown")),g}}(),a.get=function(){var a={answer:!0,question:!0},b={first:function(a){return a[a.length-1]},last:function(a){return a[0]},between:function(a){return a}};return function(c,d){function m(a){if(a.error){c.reply(a.error.message);return}var e=[].concat(b[h](a[g])),i="http://stackoverflow.com/q/",j;bot.log(e.slice(),"/get parseResponse parsing"),e[0]?j=e.map(function(a){return i+(a[f+"_id"]||"")}).join(" "):j="User did not submit any "+g,bot.log(j,"/get parseResponse parsed"),d&&d.call?d(j):c.directreply(j)}var e=c.parse(),f=e[0],g=f+"s",h=e[1]||"last",i,j,k=e[2];h==="between"&&(k=e[4]),!k&&!isNaN(Number(h))&&(k=h,h="last"),k||(k=c.get("user_id")),bot.log(e,"get input");if(!a.hasOwnProperty(f))return'Invalid "getter" name '+f;if(!b.hasOwnProperty(h))return"Invalid range specifier "+h;var l="http://api.stackoverflow.com/1.1/users/"+k+"/"+g+"?sort=creation";bot.log(l,"/get building url"),h==="between"&&(i=Date.parse(e[2]),j=Date.parse(e[3]),l+="&fromdate="+i+"&todate="+j,bot.log(l,"/get building url between")),IO.jsonp({url:l,fun:m})}}(),a.get.async=!0,a.learn=function(){function a(a,b,d){bot.addCommand({name:a,description:"User-taught command: "+d,fun:c(a,b,d),permissions:{use:"ALL",del:"ALL"}})}function c(a,c,d){return c=new RegExp(c),function(e){bot.log(e,a+" input");var f=bot.Message(d,e.get());return b(f,c.exec(e))}}function d(a){var b=Object.keys(a).some(function(b){return!a[b]}),c;return b&&(c="Illegal /learn object"),/^[\w\-]+$/.test(a.name)||(c="Invalid command name"),bot.commandExists(a.name.toLowerCase())&&(c="Command "+a.name+" already exists"),c}function e(a){var b="bot-commands",c=JSON.parse(localStorage[b]||"[]");c.push(a),localStorage[b]=JSON.stringify(c)}function f(){var b="bot-commands",c=JSON.parse(localStorage[b]||"[]");c.forEach(function(b){bot.commandExists(b.name)||a(b.name,b.input,b.output)})}return function(b){bot.log(b,"/learn input");var c=b.parse(),f={name:c[0],output:c[1],input:c[2]||".*"},g=d(f);return g?g:(f.name=f.name.toLowerCase(),bot.log(c,"/learn parsed"),e(f),a(f.name,f.input,f.output),"Command "+f.name+" learned")}}(),Object.keys(a).forEach(function(b){bot.addCommand({name:b,fun:a[b],permissions:{del:"NONE"},async:a[b].async})});var c=[419970,342129,170224,94197,617762];["die","live","ban","unban"].forEach(function(a){bot.commands[a].permissions.use=c})}(),function(){bot.listen(/tell (me (?:your|the) )?(rules|laws)/,function(a){var b=["A robot may not injure a human being or, through inaction, allow a human being to come to harm.","A robot must obey the orders given to it by human beings, except where such orders would conflict with the First Law.","A robot must protect its own existence as long as such protection does not conflict with the First or Second Laws."],c=b.reduce(function(a,b,c){return b=c+1+")"+b+"\n",a+b},"");return c}),bot.listen(/give ([\w\s]+) a lick/,function(a){var b=a.matches[1],c="s";return b==="me"?(b="you",c=""):b==="yourself"&&(b="I",c=""),"Mmmm! "+b+" taste"+c+" just like raisin"});var a=[/what(?:\'s)?\s(?:(?:is|are)\s)?(?:(?:an|a)\s)?([\w\s\-]+)\??/,/define\s(?:(?:an|a)\s)?([\w\s\-]+)/];bot.listen(a,function(a){var b=a.matches[1],c=bot.getCommand("define");c.exec(b,function(c){c=c.replace(b+":",""),a.reply(c)})})}();var target;typeof bot!="undefined"?target=bot:typeof exports!="undefined"?target=exports:target=window,target.parseCommandArgs=function(){var a=0,b=1,c=2,d=3,e="'",f='"',g={parse:function(d,g,h){var i=[],j;this.source=d,this.pos=0,this.length=d.length,this.state=a,this.escaper=h||"~",this.separator=g||" ";while(this.pos<this.length)j=this.nextArg(),j&&i.push(j);if(this.state!==a){var k="";this.state===b?k="Expected "+e:this.state===c&&(k="Expected "+f);var l=new Error("Unexpected end of input. "+k);throw l.column=this.pos,l}return i},nextArg:function(){var b="",c;this.state=a;for(;;){c=this.nextChar();if(c===null||this.state===d)break;b+=c}return b},nextChar:function(g){var h=this.source[this.pos];this.pos++;if(!h)return null;if(g)return h;if(h===this.escaper)return this.nextChar(!0);if(h===e)return this.state===c?h:(this.state!==b?this.state=b:this.state=a,this.nextChar());if(h===f)return this.state===b?h:(this.state!==c?this.state=c:this.state=a,this.nextChar());return h===this.separator&&this.state===a&&(this.state=d),h}};return function(){return g.parse.apply(g,arguments)}}(),function(){function c(a,b){var c=0,d=[];return a.split(" ").reduce(function(a,d){var e=d.length;return c+e>b&&(a+="\n",c=0),c+=e+1,a+d+" "},"")}function d(a,b,c){c=c||" ";while(a.length<b)a+=c;return a}var a={e:"oo",T:"  ",t:!1,W:40},b={cow:["","        L   ^__^","         L  (e)\\_______","            (__)\\       )\\/\\","             T ||----w |","                ||     ||"].join("\n"),moo:function(a,b){return this.eyes=b.e.slice(0,2),this.tongue=b.T.slice(0,2),this.line=b.t?"O":"\\",this.thinking=b.t,this.message=c(a,b.W),this.makeBalloon()+this.makeCow()},makeCow:function(){return this.cow.replace("e",this.eyes).replace("T",this.tongue).replace(new RegExp("L","g"),this.line)},makeBalloon:function(){var a=this.message.trim().split("\n"),b=Math.max.apply(Math,a.map(function(a){return a.length})),c=new Array(b+2),e=c.join("_"),f=c.join("-"),g=a.length,h=this.chooseBorders(g),i=a.map(function(a,c){var e;return c===0?e=h.slice(0,2):c===g-1?e=h.slice(2,4):e=h.slice(-2),e[0]+" "+d(a,b)+" "+e[1]});return i.unshift(" "+e),i.push(" "+f),i.join("\n")},chooseBorders:function(a){if(this.thinking)return["(",")","(",")","(",")"];var b;return a===1?b=["<",">"]:b=["/","\\","\\","/","|","|"],b}};bot.listen(/cow(think|say)\s(?:([eT])=(.{0,2})\s)?(?:([eT])=(.{0,2})\s)?(.+)/,function(c){var d=c.matches.slice(2,-1),e={};for(var f=0,g=d.length;f<g;f+=2)d[f]&&d[f+1]&&(e[d[f]]=d[f+1]);console.log(e),e.t=c.matches[1]==="think",e=Object.merge(a,e),console.log(e);var h=b.moo(c.matches.slice(-1)[0],e);c.respond(c.codify(h))})}(),function(){"use strict";var a=function(a){function c(b){a(b.Word.trim())}var b="http://randomword.setgetgo.com/get.php";IO.jsonp({url:b,jsonpName:"callback",fun:c})},b={dude:"  +---+\n  |   |\n  |  413\n  |   2\n  |  5 6\n__+__\n",parts:["","O","|","/","\\","/","\\"],word:"",revealed:"",guesses:[],guessNum:0,maxGuess:6,guessMade:!1,end:!0,msg:null,validGuessRegex:/^[\w\s]+$/,receiveMessage:function(a){this.msg=a;if(!this.end)return this.handleGuess(a);this.new()},"new":function(){var c=this;a(function(a){b.word=a,c.revealed=(new Array(a.length+1)).join("-"),c.guesses=[],c.guessNum=0,c.guessMade=!0,c.register()})},register:function(){this.unregister(),IO.register("beforeoutput",this.buildOutput,this),this.end=!1},unregister:function(){IO.unregister("beforeoutput",this.buildOutput),this.end=!0},handleGuess:function(a){var b=a.slice();bot.log(b,"handleGuess"),b=b.toLowerCase();if(!this.validGuessRegex.test(b))return"Only alphanumeric and whitespace characters allowed";if(this.guesses.indexOf(b)>-1)return b+" was already submitted";if(this.word.length<b.length)return b+" is longer than what you're after!";var c=this.word.indexesOf(b);c.length?c.forEach(function(a){this.uncoverPart(b,a)},this):this.guessNum++,this.guesses.push(b),this.guessMade=!0,bot.log(b,this.guessMade,"handleGuess handled");if(this.loseCheck())return this.lose();if(this.winCheck())return this.win()},uncoverPart:function(a,b){var c="";c+=this.revealed.slice(0,b),c+=a,c+=this.revealed.slice(b+a.length),this.revealed=c},preparePrint:function(){var a="",b=this;a+=this.dude.replace(/\d/g,function(a){return a>b.guessNum?" ":b.parts[a]}),a+=this.guesses.sort().join(", ")+"\n",a+=this.revealed,a=this.msg.codify(a),bot.log(a,this.msg),this.msg.respond(a)},win:function(){return this.unregister(),"Correct! The phrase is "+this.word+"."},winCheck:function(){return this.word===this.revealed},lose:function(){return this.unregister(),"You people suck. The phrase was "+this.word},loseCheck:function(){return this.guessNum>=this.maxGuess},buildOutput:function(){this.guessMade&&(this.preparePrint(),this.guessMade=!1)}};bot.addCommand({name:"hang",fun:b.receiveMessage,thisArg:b})}();var parsePrecedence=function(){var a={" ":!0,"	":!0},b={"+":{precedence:1,exec:function(a,b){return a+b}},"-":{precedence:1,exec:function(a,b){return a-b}},"*":{precedence:2,exec:function(a,b){return a*b}},"/":{precedence:2,exec:function(a,b){if(b===0)throw new Error("Division by 0");return a/b}},d:{precedence:3,exec:function(a,b,c){if(a>100)throw new Error("Maximum roll count is 100");var d=0,e;while(a--)e=Math.floor(Math.random()*b)+1,d+=e,c.push(e);return d}}},c={numberStack:null,operatorStack:null,rolls:null,source:null,pos:0,len:0,lookahead:"",parse:function(a){return this.source=a,this.pos=0,this.len=a.length,this.numberStack=[],this.operatorStack=[],this.rolls=[],this.tokenize(),this.execute(),this.source=a=null,{total:this.numberStack[0],rolls:this.rolls.reverse()}},tokenize:function(){var b,c;for(;this.pos<this.len;this.pos++){this.lookahead=this.source[this.pos];if(a.hasOwnProperty(this.lookahead))continue;b=this.nextToken();if(b.type==="number")this.numberStack.push(b.value);else if(b.type==="operator"){c=this.operatorStack[this.operatorStack.length-1];if(c&&b.value==="d"&&c.value==="d"){var d=new Error("Unexpected unchainable operator d");throw d.column=this.pos,d}this.operatorStack.push(b)}}},execute:function(){function b(a,b){var c=this.operatorStack[b+1];c&&c.precedence>a.precedence?this.operate(b+1):b||this.operate(b)}var a;while(a=this.operatorStack.length)while(0<=--a)b.call(this,this.operatorStack[a],a)},nextToken:function(){var a=this.lookahead,c={type:null,value:a},d;if(this.pos>=this.len)throw new Error("Unexpected end of input");if(a>=0&&a<10)c.type="number",d=this.fetchNumber(),this.pos+=d.length-1,c.value=d.value;else{if(!b.hasOwnProperty(a)){var e=new Error("Invalid character "+a);throw e.column=this.pos,e}c.type="operator",c.precedence=b[a].precedence}return c},operate:function(a){var c=this.numberStack.slice(a,a+2);c.push(this.rolls);var d=b[this.operatorStack.splice(a,1)[0].value];this.numberStack.splice(a,2,d.exec.apply(null,c))},fetchNumber:function(){var a=0,b="",c;while((c=this.source[this.pos+a])>=0&&c<10)b+=c,a++;if(b.length===0)throw new Error("Incomplete operation: Expected number at "+this.pos);return{value:Number(b),length:a}}};return function(a){return c.parse(a)}}(),roll=function(a){if(!/^[\d\s\+\-\*\/d]+$/.test(a))return"Invalid /roll argument; use `/help roll` for help";var b=parsePrecedence(a);return b.rolls.join()+" => "+b.total};bot.addCommand({name:"roll",fun:roll,permissions:{del:"NONE"},description:["Roll dice in DnD notation. `MdN` rolls `M` `N`-sided dice","`MdN+X` rolls as said above, and adds `X` to the result","You can use any of the four arithmetic operators +-*/,","`X` can also be a die roll: `MdN*XdY` for example"].join(". ")});var specParts=[{section:"introduction",name:"Introduction"},{section:"x1",name:"1 Scope"},{section:"x2",name:"2 Conformance"},{section:"x3",name:"3 Normative references"},{section:"x4",name:"4 Overview"},{section:"x4.1",name:"4.1 Web Scripting"},{section:"x4.2",name:"4.2 Language Overview"},{section:"x4.2.1",name:"4.2.1 Objects"},{section:"x4.2.2",name:"4.2.2 The Strict Variant of ECMAScript"},{section:"x4.3",name:"4.3 Definitions"},{section:"x4.3.1",name:"4.3.1 type"},{section:"x4.3.2",name:"4.3.2 primitive value"},{section:"x4.3.3",name:"4.3.3 object"},{section:"x4.3.4",name:"4.3.4 constructor"},{section:"x4.3.5",name:"4.3.5 prototype"},{section:"x4.3.6",name:"4.3.6 native object"},{section:"x4.3.7",name:"4.3.7 built-in object"},{section:"x4.3.8",name:"4.3.8 host object"},{section:"x4.3.9",name:"4.3.9 undefined value"},{section:"x4.3.10",name:"4.3.10 Undefined type"},{section:"x4.3.11",name:"4.3.11 null value"},{section:"x4.3.12",name:"4.3.12 Null type"},{section:"x4.3.13",name:"4.3.13 Boolean value"},{section:"x4.3.14",name:"4.3.14 Boolean type"},{section:"x4.3.15",name:"4.3.15 Boolean object"},{section:"x4.3.16",name:"4.3.16 String value"},{section:"x4.3.17",name:"4.3.17 String type"},{section:"x4.3.18",name:"4.3.18 String object"},{section:"x4.3.19",name:"4.3.19 Number value"},{section:"x4.3.20",name:"4.3.20 Number type"},{section:"x4.3.21",name:"4.3.21 Number object"},{section:"x4.3.22",name:"4.3.22 Infinity"},{section:"x4.3.23",name:"4.3.23 NaN"},{section:"x4.3.24",name:"4.3.24 function"},{section:"x4.3.25",name:"4.3.25 built-in function"},{section:"x4.3.26",name:"4.3.26 property"},{section:"x4.3.27",name:"4.3.27 method"},{section:"x4.3.28",name:"4.3.28 built-in method"},{section:"x4.3.29",name:"4.3.29 attribute"},{section:"x4.3.30",name:"4.3.30 own property"},{section:"x4.3.31",name:"4.3.31 inherited property"},{section:"x5",name:"5 Notational Conventions"},{section:"x5.1",name:"5.1 Syntactic and Lexical Grammars"},{section:"x5.1.1",name:"5.1.1 Context-Free Grammars"},{section:"x5.1.2",name:"5.1.2 The Lexical and RegExp Grammars"},{section:"x5.1.3",name:"5.1.3 The Numeric String Grammar"},{section:"x5.1.4",name:"5.1.4 The Syntactic Grammar"},{section:"x5.1.5",name:"5.1.5 The JSON Grammar"},{section:"x5.1.6",name:"5.1.6 Grammar Notation"},{section:"x5.2",name:"5.2 Algorithm Conventions"},{section:"x6",name:"6 Source Text"},{section:"x7",name:"7 Lexical Conventions"},{section:"x7.1",name:"7.1 Unicode Format-Control Characters"},{section:"x7.2",name:"7.2 White Space"},{section:"x7.3",name:"7.3 Line Terminators"},{section:"x7.4",name:"7.4 Comments"},{section:"x7.5",name:"7.5 Tokens"},{section:"x7.6",name:"7.6 Identifier Names and Identifiers"},{section:"x7.6.1",name:"7.6.1 Reserved Words"},{section:"x7.6.1.1",name:"7.6.1.1 Keywords"},{section:"x7.6.1.2",name:"7.6.1.2 Future Reserved Words"},{section:"x7.7",name:"7.7 Punctuators"},{section:"x7.8",name:"7.8 Literals"},{section:"x7.8.1",name:"7.8.1 Null Literals"},{section:"x7.8.2",name:"7.8.2 Boolean Literals"},{section:"x7.8.3",name:"7.8.3 Numeric Literals"},{section:"x7.8.4",name:"7.8.4 String Literals"},{section:"x7.8.5",name:"7.8.5 Regular Expression Literals"},{section:"x7.9",name:"7.9 Automatic Semicolon Insertion"},{section:"x7.9.1",name:"7.9.1 Rules of Automatic Semicolon Insertion"},{section:"x7.9.2",name:"7.9.2 Examples of Automatic Semicolon Insertion"},{section:"x8",name:"8 Types"},{section:"x8.1",name:"8.1 The Undefined Type"},{section:"x8.2",name:"8.2 The Null Type"},{section:"x8.3",name:"8.3 The Boolean Type"},{section:"x8.4",name:"8.4 The String Type"},{section:"x8.5",name:"8.5 The Number Type"},{section:"x8.6",name:"8.6 The Object Type"},{section:"x8.6.1",name:"8.6.1 Property Attributes"},{section:"x8.6.2",name:"8.6.2 Object Internal Properties and Methods"},{section:"x8.7",name:"8.7 The Reference Specification Type"},{section:"x8.7.1",name:"8.7.1 GetValue (V)"},{section:"x8.7.2",name:"8.7.2 PutValue (V, W)"},{section:"x8.8",name:"8.8 The List Specification Type"},{section:"x8.9",name:"8.9 The Completion Specification Type"},{section:"x8.10",name:"8.10 The Property Descriptor and Property Identifier Specification Types"},{section:"x8.10.1",name:"8.10.1 IsAccessorDescriptor ( Desc )"},{section:"x8.10.2",name:"8.10.2 IsDataDescriptor ( Desc )"},{section:"x8.10.3",name:"8.10.3 IsGenericDescriptor ( Desc )"},{section:"x8.10.4",name:"8.10.4 FromPropertyDescriptor ( Desc )"},{section:"x8.10.5",name:"8.10.5 ToPropertyDescriptor ( Obj )"},{section:"x8.11",name:"8.11 The Lexical Environment and Environment Record Specification Types"},{section:"x8.12",name:"8.12 Algorithms for Object Internal Methods"},{section:"x8.12.1",name:"8.12.1 [[GetOwnProperty]] (P)"},{section:"x8.12.2",name:"8.12.2 [[GetProperty]] (P)"},{section:"x8.12.3",name:"8.12.3 [[Get]] (P)"},{section:"x8.12.4",name:"8.12.4 [[CanPut]] (P)"},{section:"x8.12.5",name:"8.12.5 [[Put]] ( P, V, Throw )"},{section:"x8.12.6",name:"8.12.6 [[HasProperty]] (P)"},{section:"x8.12.7",name:"8.12.7 [[Delete]] (P, Throw)"},{section:"x8.12.8",name:"8.12.8 [[DefaultValue]] (hint)"},{section:"x8.12.9",name:"8.12.9 [[DefineOwnProperty]] (P, Desc, Throw)"},{section:"x9",name:"9 Type Conversion and Testing"},{section:"x9.1",name:"9.1 ToPrimitive"},{section:"x9.2",name:"9.2 ToBoolean"},{section:"x9.3",name:"9.3 ToNumber"},{section:"x9.3.1",name:"9.3.1 ToNumber Applied to the String Type"},{section:"x9.4",name:"9.4 ToInteger"},{section:"x9.5",name:"9.5 ToInt32: (Signed 32 Bit Integer)"},{section:"x9.6",name:"9.6 ToUint32: (Unsigned 32 Bit Integer)"},{section:"x9.7",name:"9.7 ToUint16: (Unsigned 16 Bit Integer)"},{section:"x9.8",name:"9.8 ToString"},{section:"x9.8.1",name:"9.8.1 ToString Applied to the Number Type"},{section:"x9.9",name:"9.9 ToObject"},{section:"x9.10",name:"9.10 CheckObjectCoercible"},{section:"x9.11",name:"9.11 IsCallable"},{section:"x9.12",name:"9.12 The SameValue Algorithm"},{section:"x10",name:"10 Executable Code and Execution Contexts"},{section:"x10.1",name:"10.1 Types of Executable Code"},{section:"x10.1.1",name:"10.1.1 Strict Mode Code"},{section:"x10.2",name:"10.2 Lexical Environments"},{section:"x10.2.1",name:"10.2.1 Environment Records"},{section:"x10.2.1.1",name:"10.2.1.1 Declarative Environment Records"},{section:"x10.2.1.1.1",name:"10.2.1.1.1 HasBinding(N)"},{section:"x10.2.1.1.2",name:"10.2.1.1.2 CreateMutableBinding (N, D)"},{section:"x10.2.1.1.3",name:"10.2.1.1.3 SetMutableBinding (N,V,S)"},{section:"x10.2.1.1.4",name:"10.2.1.1.4 GetBindingValue(N,S)"},{section:"x10.2.1.1.5",name:"10.2.1.1.5 DeleteBinding (N)"},{section:"x10.2.1.1.6",name:"10.2.1.1.6 ImplicitThisValue()"},{section:"x10.2.1.1.7",name:"10.2.1.1.7 CreateImmutableBinding (N)"},{section:"x10.2.1.1.8",name:"10.2.1.1.8 InitializeImmutableBinding (N,V)"},{section:"x10.2.1.2",name:"10.2.1.2 Object Environment Records"},{section:"x10.2.1.2.1",name:"10.2.1.2.1 HasBinding(N)"},{section:"x10.2.1.2.2",name:"10.2.1.2.2 CreateMutableBinding (N, D)"},{section:"x10.2.1.2.3",name:"10.2.1.2.3 SetMutableBinding (N,V,S)"},{section:"x10.2.1.2.4",name:"10.2.1.2.4 GetBindingValue(N,S)"},{section:"x10.2.1.2.5",name:"10.2.1.2.5 DeleteBinding (N)"},{section:"x10.2.1.2.6",name:"10.2.1.2.6 ImplicitThisValue()"},{section:"x10.2.2",name:"10.2.2 Lexical Environment Operations"},{section:"x10.2.2.1",name:"10.2.2.1 GetIdentifierReference (lex, name, strict)"},{section:"x10.2.2.2",name:"10.2.2.2 NewDeclarativeEnvironment (E)"},{section:"x10.2.2.3",name:"10.2.2.3 NewObjectEnvironment (O, E)"},{section:"x10.2.3",name:"10.2.3 The Global Environment"},{section:"x10.3",name:"10.3 Execution Contexts"},{section:"x10.3.1",name:"10.3.1 Identifier Resolution"},{section:"x10.4",name:"10.4 Establishing an Execution Context"},{section:"x10.4.1",name:"10.4.1 Entering Global Code"},{section:"x10.4.1.1",name:"10.4.1.1 Initial Global Execution Context"},{section:"x10.4.2",name:"10.4.2 Entering Eval Code"},{section:"x10.4.2.1",name:"10.4.2.1 Strict Mode Restrictions"},{section:"x10.4.3",name:"10.4.3 Entering Function Code"},{section:"x10.5",name:"10.5 Declaration Binding Instantiation"},{section:"x10.6",name:"10.6 Arguments Object"},{section:"x11",name:"11 Expressions"},{section:"x11.1",name:"11.1 Primary Expressions"},{section:"x11.1.1",name:"11.1.1 The this Keyword"},{section:"x11.1.2",name:"11.1.2 Identifier Reference"},{section:"x11.1.3",name:"11.1.3 Literal Reference"},{section:"x11.1.4",name:"11.1.4 Array Initialiser"},{section:"x11.1.5",name:"11.1.5 Object Initialiser"},{section:"x11.1.6",name:"11.1.6 The Grouping Operator"},{section:"x11.2",name:"11.2 Left-Hand-Side Expressions"},{section:"x11.2.1",name:"11.2.1 Property Accessors"},{section:"x11.2.2",name:"11.2.2 The new Operator"},{section:"x11.2.3",name:"11.2.3 Function Calls"},{section:"x11.2.4",name:"11.2.4 Argument Lists"},{section:"x11.2.5",name:"11.2.5 Function Expressions"},{section:"x11.3",name:"11.3 Postfix Expressions"},{section:"x11.3.1",name:"11.3.1 Postfix Increment Operator"},{section:"x11.3.2",name:"11.3.2 Postfix Decrement Operator"},{section:"x11.4",name:"11.4 Unary Operators"},{section:"x11.4.1",name:"11.4.1 The delete Operator"},{section:"x11.4.2",name:"11.4.2 The void Operator"},{section:"x11.4.3",name:"11.4.3 The typeof Operator"},{section:"x11.4.4",name:"11.4.4 Prefix Increment Operator"},{section:"x11.4.5",name:"11.4.5 Prefix Decrement Operator"},{section:"x11.4.6",name:"11.4.6 Unary + Operator"},{section:"x11.4.7",name:"11.4.7 Unary - Operator"},{section:"x11.4.8",name:"11.4.8 Bitwise NOT Operator ( ~ )"},{section:"x11.4.9",name:"11.4.9 Logical NOT Operator ( ! )"},{section:"x11.5",name:"11.5 Multiplicative Operators"},{section:"x11.5.1",name:"11.5.1 Applying the * Operator"},{section:"x11.5.2",name:"11.5.2 Applying the / Operator"},{section:"x11.5.3",name:"11.5.3 Applying the % Operator"},{section:"x11.6",name:"11.6 Additive Operators"},{section:"x11.6.1",name:"11.6.1 The Addition operator ( + )"},{section:"x11.6.2",name:"11.6.2 The Subtraction Operator ( - )"},{section:"x11.6.3",name:"11.6.3 Applying the Additive Operators to Numbers"},{section:"x11.7",name:"11.7 Bitwise Shift Operators"},{section:"x11.7.1",name:"11.7.1 The Left Shift Operator ( << )"},{section:"x11.7.2",name:"11.7.2 The Signed Right Shift Operator ( >> )"},{section:"x11.7.3",name:"11.7.3 The Unsigned Right Shift Operator ( >>> )"},{section:"x11.8",name:"11.8 Relational Operators"},{section:"x11.8.1",name:"11.8.1 The Less-than Operator ( < )"},{section:"x11.8.2",name:"11.8.2 The Greater-than Operator ( > )"},{section:"x11.8.3",name:"11.8.3 The Less-than-or-equal Operator ( <= )"},{section:"x11.8.4",name:"11.8.4 The Greater-than-or-equal Operator ( >= )"},{section:"x11.8.5",name:"11.8.5 The Abstract Relational Comparison Algorithm"},{section:"x11.8.6",name:"11.8.6 The instanceof operator"},{section:"x11.8.7",name:"11.8.7 The in operator"},{section:"x11.9",name:"11.9 Equality Operators"},{section:"x11.9.1",name:"11.9.1 The Equals Operator ( == )"},{section:"x11.9.2",name:"11.9.2 The Does-not-equals Operator ( != )"},{section:"x11.9.3",name:"11.9.3 The Abstract Equality Comparison Algorithm"},{section:"x11.9.4",name:"11.9.4 The Strict Equals Operator ( === )"},{section:"x11.9.5",name:"11.9.5 The Strict Does-not-equal Operator ( !== )"},{section:"x11.9.6",name:"11.9.6 The Strict Equality Comparison Algorithm"},{section:"x11.10",name:"11.10 Binary Bitwise Operators"},{section:"x11.11",name:"11.11 Binary Logical Operators"},{section:"x11.12",name:"11.12 Conditional Operator ( ? : )"},{section:"x11.13",name:"11.13 Assignment Operators"},{section:"x11.13.1",name:"11.13.1 Simple Assignment ( = )"},{section:"x11.13.2",name:"11.13.2 Compound Assignment ( op= )"},{section:"x11.14",name:"11.14 Comma Operator ( , )"},{section:"x12",name:"12 Statements"},{section:"x12.1",name:"12.1 Block"},{section:"x12.2",name:"12.2 Variable Statement"},{section:"x12.2.1",name:"12.2.1 Strict Mode Restrictions"},{section:"x12.3",name:"12.3 Empty Statement"},{section:"x12.4",name:"12.4 Expression Statement"},{section:"x12.5",name:"12.5 The if Statement"},{section:"x12.6",name:"12.6 Iteration Statements"},{section:"x12.6.1",name:"12.6.1 The do-while Statement"},{section:"x12.6.2",name:"12.6.2 The while Statement"},{section:"x12.6.3",name:"12.6.3 The for Statement"},{section:"x12.6.4",name:"12.6.4 The for-in Statement"},{section:"x12.7",name:"12.7 The continue Statement"},{section:"x12.8",name:"12.8 The break Statement"},{section:"x12.9",name:"12.9 The return Statement"},{section:"x12.10",name:"12.10 The with Statement"},{section:"x12.10.1",name:"12.10.1 Strict Mode Restrictions"},{section:"x12.11",name:"12.11 The switch Statement"},{section:"x12.12",name:"12.12 Labelled Statements"},{section:"x12.13",name:"12.13 The throw Statement"},{section:"x12.14",name:"12.14 The try Statement"},{section:"x12.14.1",name:"12.14.1 Strict Mode Restrictions"},{section:"x12.15",name:"12.15 The debugger statement"},{section:"x13",name:"13 Function Definition"},{section:"x13.1",name:"13.1 Strict Mode Restrictions"},{section:"x13.2",name:"13.2 Creating Function Objects"},{section:"x13.2.1",name:"13.2.1 [[Call]]"},{section:"x13.2.2",name:"13.2.2 [[Construct]]"},{section:"x13.2.3",name:"13.2.3 The Function Object"},{section:"x14",name:"14 Program"},{section:"x14.1",name:"14.1 Directive Prologues and the Use Strict Directive"},{section:"x15",name:"15 Standard Built-in ECMAScript Objects"},{section:"x15.1",name:"15.1 The Global Object"},{section:"x15.1.1",name:"15.1.1 Value Properties of the Global Object"},{section:"x15.1.1.1",name:"15.1.1.1 NaN"},{section:"x15.1.1.2",name:"15.1.1.2 Infinity"},{section:"x15.1.1.3",name:"15.1.1.3 undefined"},{section:"x15.1.2",name:"15.1.2 Function Properties of the Global Object"},{section:"x15.1.2.1",name:"15.1.2.1 eval (x)"},{section:"x15.1.2.1.1",name:"15.1.2.1.1 Direct Call to Eval"},{section:"x15.1.2.2",name:"15.1.2.2 parseInt (string , radix)"},{section:"x15.1.2.3",name:"15.1.2.3 parseFloat (string)"},{section:"x15.1.2.4",name:"15.1.2.4 isNaN (number)"},{section:"x15.1.2.5",name:"15.1.2.5 isFinite (number)"},{section:"x15.1.3",name:"15.1.3 URI Handling Function Properties"},{section:"x15.1.3.1",name:"15.1.3.1 decodeURI (encodedURI)"},{section:"x15.1.3.2",name:"15.1.3.2 decodeURIComponent (encodedURIComponent)"},{section:"x15.1.3.3",name:"15.1.3.3 encodeURI (uri)"},{section:"x15.1.3.4",name:"15.1.3.4 encodeURIComponent (uriComponent)"},{section:"x15.1.4",name:"15.1.4 Constructor Properties of the Global Object"},{section:"x15.1.4.1",name:"15.1.4.1 Object ( . . . )"},{section:"x15.1.4.2",name:"15.1.4.2 Function ( . . . )"},{section:"x15.1.4.3",name:"15.1.4.3 Array ( . . . )"},{section:"x15.1.4.4",name:"15.1.4.4 String ( . . . )"},{section:"x15.1.4.5",name:"15.1.4.5 Boolean ( . . . )"},{section:"x15.1.4.6",name:"15.1.4.6 Number ( . . . )"},{section:"x15.1.4.7",name:"15.1.4.7 Date ( . . . )"},{section:"x15.1.4.8",name:"15.1.4.8 RegExp ( . . . )"},{section:"x15.1.4.9",name:"15.1.4.9 Error ( . . . )"},{section:"x15.1.4.10",name:"15.1.4.10 EvalError ( . . . )"},{section:"x15.1.4.11",name:"15.1.4.11 RangeError ( . . . )"},{section:"x15.1.4.12",name:"15.1.4.12 ReferenceError ( . . . )"},{section:"x15.1.4.13",name:"15.1.4.13 SyntaxError ( . . . )"},{section:"x15.1.4.14",name:"15.1.4.14 TypeError ( . . . )"},{section:"x15.1.4.15",name:"15.1.4.15 URIError ( . . . )"},{section:"x15.1.5",name:"15.1.5 Other Properties of the Global Object"},{section:"x15.1.5.1",name:"15.1.5.1 Math"},{section:"x15.1.5.2",name:"15.1.5.2 JSON"},{section:"x15.2",name:"15.2 Object Objects"},{section:"x15.2.1",name:"15.2.1 The Object Constructor Called as a Function"},{section:"x15.2.1.1",name:"15.2.1.1 Object ( [ value ] )"},{section:"x15.2.2",name:"15.2.2 The Object Constructor"},{section:"x15.2.2.1",name:"15.2.2.1 new Object ( [ value ] )"},{section:"x15.2.3",name:"15.2.3 Properties of the Object Constructor"},{section:"x15.2.3.1",name:"15.2.3.1 Object.prototype"},{section:"x15.2.3.2",name:"15.2.3.2 Object.getPrototypeOf ( O )"},{section:"x15.2.3.3",name:"15.2.3.3 Object.getOwnPropertyDescriptor ( O, P ) "},{section:"x15.2.3.4",name:"15.2.3.4 Object.getOwnPropertyNames ( O )"},{section:"x15.2.3.5",name:"15.2.3.5 Object.create ( O [, Properties] )"},{section:"x15.2.3.6",name:"15.2.3.6 Object.defineProperty ( O, P, Attributes )"},{section:"x15.2.3.7",name:"15.2.3.7 Object.defineProperties ( O, Properties )"},{section:"x15.2.3.8",name:"15.2.3.8 Object.seal ( O )"},{section:"x15.2.3.9",name:"15.2.3.9 Object.freeze ( O )"},{section:"x15.2.3.10",name:"15.2.3.10 Object.preventExtensions ( O )"},{section:"x15.2.3.11",name:"15.2.3.11 Object.isSealed ( O )"},{section:"x15.2.3.12",name:"15.2.3.12 Object.isFrozen ( O )"},{section:"x15.2.3.13",name:"15.2.3.13 Object.isExtensible ( O )"},{section:"x15.2.3.14",name:"15.2.3.14 Object.keys ( O )"},{section:"x15.2.4",name:"15.2.4 Properties of the Object Prototype Object"},{section:"x15.2.4.1",name:"15.2.4.1 Object.prototype.constructor"},{section:"x15.2.4.2",name:"15.2.4.2 Object.prototype.toString ( )"},{section:"x15.2.4.3",name:"15.2.4.3 Object.prototype.toLocaleString ( )"},{section:"x15.2.4.4",name:"15.2.4.4 Object.prototype.valueOf ( )"},{section:"x15.2.4.5",name:"15.2.4.5 Object.prototype.hasOwnProperty (V)"},{section:"x15.2.4.6",name:"15.2.4.6 Object.prototype.isPrototypeOf (V)"},{section:"x15.2.4.7",name:"15.2.4.7 Object.prototype.propertyIsEnumerable (V)"},{section:"x15.2.5",name:"15.2.5 Properties of Object Instances"},{section:"x15.3",name:"15.3 Function Objects"},{section:"x15.3.1",name:"15.3.1 The Function Constructor Called as a Function"},{section:"x15.3.1.1",name:"15.3.1.1 Function (p1, p2, … , pn, body)"},{section:"x15.3.2",name:"15.3.2 The Function Constructor"},{section:"x15.3.2.1",name:"15.3.2.1 new Function (p1, p2, … , pn, body)"},{section:"x15.3.3",name:"15.3.3 Properties of the Function Constructor"},{section:"x15.3.3.1",name:"15.3.3.1 Function.prototype"},{section:"x15.3.3.2",name:"15.3.3.2 Function.length"},{section:"x15.3.4",name:"15.3.4 Properties of the Function Prototype Object"},{section:"x15.3.4.1",name:"15.3.4.1 Function.prototype.constructor"},{section:"x15.3.4.2",name:"15.3.4.2 Function.prototype.toString ( )"},{section:"x15.3.4.3",name:"15.3.4.3 Function.prototype.apply (thisArg, argArray)"},{section:"x15.3.4.4",name:"15.3.4.4 Function.prototype.call (thisArg [ , arg1 [ , arg2, … ] ] )"},{section:"x15.3.4.5",name:"15.3.4.5 Function.prototype.bind (thisArg [, arg1 [, arg2, …]])"},{section:"x15.3.4.5.1",name:"15.3.4.5.1 [[Call]]"},{section:"x15.3.4.5.2",name:"15.3.4.5.2 [[Construct]]"},{section:"x15.3.4.5.3",name:"15.3.4.5.3 [[HasInstance]] (V)"},{section:"x15.3.5",name:"15.3.5 Properties of Function Instances"},{section:"x15.3.5.1",name:"15.3.5.1 length"},{section:"x15.3.5.2",name:"15.3.5.2 prototype"},{section:"x15.3.5.3",name:"15.3.5.3 [[HasInstance]] (V)"},{section:"x15.3.5.4",name:"15.3.5.4 [[Get]] (P)"},{section:"x15.4",name:"15.4 Array Objects"},{section:"x15.4.1",name:"15.4.1 The Array Constructor Called as a Function"},{section:"x15.4.1.1",name:"15.4.1.1 Array ( [ item1 [ , item2 [ , … ] ] ] )"},{section:"x15.4.2",name:"15.4.2 The Array Constructor"},{section:"x15.4.2.1",name:"15.4.2.1 new Array ( [ item0 [ , item1 [ , … ] ] ] )"},{section:"x15.4.2.2",name:"15.4.2.2 new Array (len)"},{section:"x15.4.3",name:"15.4.3 Properties of the Array Constructor"},{section:"x15.4.3.1",name:"15.4.3.1 Array.prototype"},{section:"x15.4.3.2",name:"15.4.3.2 Array.isArray ( arg )"},{section:"x15.4.4",name:"15.4.4 Properties of the Array Prototype Object"},{section:"x15.4.4.1",name:"15.4.4.1 Array.prototype.constructor"},{section:"x15.4.4.2",name:"15.4.4.2 Array.prototype.toString ( )"},{section:"x15.4.4.3",name:"15.4.4.3 Array.prototype.toLocaleString ( )"},{section:"x15.4.4.4",name:"15.4.4.4 Array.prototype.concat ( [ item1 [ , item2 [ , … ] ] ] )"},{section:"x15.4.4.5",name:"15.4.4.5 Array.prototype.join (separator)"},{section:"x15.4.4.6",name:"15.4.4.6 Array.prototype.pop ( )"},{section:"x15.4.4.7",name:"15.4.4.7 Array.prototype.push ( [ item1 [ , item2 [ , … ] ] ] )"},{section:"x15.4.4.8",name:"15.4.4.8 Array.prototype.reverse ( )"},{section:"x15.4.4.9",name:"15.4.4.9 Array.prototype.shift ( )"},{section:"x15.4.4.10",name:"15.4.4.10 Array.prototype.slice (start, end)"},{section:"x15.4.4.11",name:"15.4.4.11 Array.prototype.sort (comparefn)"},{section:"x15.4.4.12",name:"15.4.4.12 Array.prototype.splice (start, deleteCount [ , item1 [ , item2 [ , … ] ] ] )"},{section:"x15.4.4.13",name:"15.4.4.13 Array.prototype.unshift ( [ item1 [ , item2 [ , … ] ] ] )"},{section:"x15.4.4.14",name:"15.4.4.14 Array.prototype.indexOf ( searchElement [ , fromIndex ] )"},{section:"x15.4.4.15",name:"15.4.4.15 Array.prototype.lastIndexOf ( searchElement [ , fromIndex ] )"},{section:"x15.4.4.16",name:"15.4.4.16 Array.prototype.every ( callbackfn [ , thisArg ] )"},{section:"x15.4.4.17",name:"15.4.4.17 Array.prototype.some ( callbackfn [ , thisArg ] )"},{section:"x15.4.4.18",name:"15.4.4.18 Array.prototype.forEach ( callbackfn [ , thisArg ] )"},{section:"x15.4.4.19",name:"15.4.4.19 Array.prototype.map ( callbackfn [ , thisArg ] )"},{section:"x15.4.4.20",name:"15.4.4.20 Array.prototype.filter ( callbackfn [ , thisArg ] )"},{section:"x15.4.4.21",name:"15.4.4.21 Array.prototype.reduce ( callbackfn [ , initialValue ] )"},{section:"x15.4.4.22",name:"15.4.4.22 Array.prototype.reduceRight ( callbackfn [ , initialValue ] )"},{section:"x15.4.5",name:"15.4.5 Properties of Array Instances"},{section:"x15.4.5.1",name:"15.4.5.1 [[DefineOwnProperty]] ( P, Desc, Throw )"},{section:"x15.4.5.2",name:"15.4.5.2 length"},{section:"x15.5",name:"15.5 String Objects"},{section:"x15.5.1",name:"15.5.1 The String Constructor Called as a Function"},{section:"x15.5.1.1",name:"15.5.1.1 String ( [ value ] )"},{section:"x15.5.2",name:"15.5.2 The String Constructor"},{section:"x15.5.2.1",name:"15.5.2.1 new String ( [ value ] )"},{section:"x15.5.3",name:"15.5.3 Properties of the String Constructor"},{section:"x15.5.3.1",name:"15.5.3.1 String.prototype"},{section:"x15.5.3.2",name:"15.5.3.2 String.fromCharCode ( [ char0 [ , char1 [ , … ] ] ] )"},{section:"x15.5.4",name:"15.5.4 Properties of the String Prototype Object"},{section:"x15.5.4.1",name:"15.5.4.1 String.prototype.constructor"},{section:"x15.5.4.2",name:"15.5.4.2 String.prototype.toString ( )"},{section:"x15.5.4.3",name:"15.5.4.3 String.prototype.valueOf ( )"},{section:"x15.5.4.4",name:"15.5.4.4 String.prototype.charAt (pos)"},{section:"x15.5.4.5",name:"15.5.4.5 String.prototype.charCodeAt (pos)"},{section:"x15.5.4.6",name:"15.5.4.6 String.prototype.concat ( [ string1 [ , string2 [ , … ] ] ] )"},{section:"x15.5.4.7",name:"15.5.4.7 String.prototype.indexOf (searchString, position)"},{section:"x15.5.4.8",name:"15.5.4.8 String.prototype.lastIndexOf (searchString, position)"},{section:"x15.5.4.9",name:"15.5.4.9 String.prototype.localeCompare (that)"},{section:"x15.5.4.10",name:"15.5.4.10 String.prototype.match (regexp)"},{section:"x15.5.4.11",name:"15.5.4.11 String.prototype.replace (searchValue, replaceValue)"},{section:"x15.5.4.12",name:"15.5.4.12 String.prototype.search (regexp)"},{section:"x15.5.4.13",name:"15.5.4.13 String.prototype.slice (start, end)"},{section:"x15.5.4.14",name:"15.5.4.14 String.prototype.split (separator, limit)"},{section:"x15.5.4.15",name:"15.5.4.15 String.prototype.substring (start, end)"},{section:"x15.5.4.16",name:"15.5.4.16 String.prototype.toLowerCase ( )"},{section:"x15.5.4.17",name:"15.5.4.17 String.prototype.toLocaleLowerCase ( )"},{section:"x15.5.4.18",name:"15.5.4.18 String.prototype.toUpperCase ( )"},{section:"x15.5.4.19",name:"15.5.4.19 String.prototype.toLocaleUpperCase ( )"},{section:"x15.5.4.20",name:"15.5.4.20 String.prototype.trim ( )"},{section:"x15.5.5",name:"15.5.5 Properties of String Instances"},{section:"x15.5.5.1",name:"15.5.5.1 length"},{section:"x15.5.5.2",name:"15.5.5.2 [[GetOwnProperty]] ( P )"},{section:"x15.6",name:"15.6 Boolean Objects"},{section:"x15.6.1",name:"15.6.1 The Boolean Constructor Called as a Function"},{section:"x15.6.1.1",name:"15.6.1.1 Boolean (value)"},{section:"x15.6.2",name:"15.6.2 The Boolean Constructor"},{section:"x15.6.2.1",name:"15.6.2.1 new Boolean (value)"},{section:"x15.6.3",name:"15.6.3 Properties of the Boolean Constructor"},{section:"x15.6.3.1",name:"15.6.3.1 Boolean.prototype"},{section:"x15.6.4",name:"15.6.4 Properties of the Boolean Prototype Object"},{section:"x15.6.4.1",name:"15.6.4.1 Boolean.prototype.constructor"},{section:"x15.6.4.2",name:"15.6.4.2 Boolean.prototype.toString ( )"},{section:"x15.6.4.3",name:"15.6.4.3 Boolean.prototype.valueOf ( )"},{section:"x15.6.5",name:"15.6.5 Properties of Boolean Instances"},{section:"x15.7",name:"15.7 Number Objects"},{section:"x15.7.1",name:"15.7.1 The Number Constructor Called as a Function"},{section:"x15.7.1.1",name:"15.7.1.1 Number ( [ value ] )"},{section:"x15.7.2",name:"15.7.2 The Number Constructor"},{section:"x15.7.2.1",name:"15.7.2.1 new Number ( [ value ] )"},{section:"x15.7.3",name:"15.7.3 Properties of the Number Constructor"},{section:"x15.7.3.1",name:"15.7.3.1 Number.prototype"},{section:"x15.7.3.2",name:"15.7.3.2 Number.MAX_VALUE"},{section:"x15.7.3.3",name:"15.7.3.3 Number.MIN_VALUE"},{section:"x15.7.3.4",name:"15.7.3.4 Number.NaN"},{section:"x15.7.3.5",name:"15.7.3.5 Number.NEGATIVE_INFINITY"},{section:"x15.7.3.6",name:"15.7.3.6 Number.POSITIVE_INFINITY"},{section:"x15.7.4",name:"15.7.4 Properties of the Number Prototype Object"},{section:"x15.7.4.1",name:"15.7.4.1 Number.prototype.constructor"},{section:"x15.7.4.2",name:"15.7.4.2 Number.prototype.toString ( [ radix ] )"},{section:"x15.7.4.3",name:"15.7.4.3 Number.prototype.toLocaleString()"},{section:"x15.7.4.4",name:"15.7.4.4 Number.prototype.valueOf ( )"},{section:"x15.7.4.5",name:"15.7.4.5 Number.prototype.toFixed (fractionDigits)"},{section:"x15.7.4.6",name:"15.7.4.6 Number.prototype.toExponential (fractionDigits)"},{section:"x15.7.4.7",name:"15.7.4.7 Number.prototype.toPrecision (precision)"},{section:"x15.7.5",name:"15.7.5 Properties of Number Instances"},{section:"x15.8",name:"15.8 The Math Object"},{section:"x15.8.1",name:"15.8.1 Value Properties of the Math Object"},{section:"x15.8.1.1",name:"15.8.1.1 E"},{section:"x15.8.1.2",name:"15.8.1.2 LN10"},{section:"x15.8.1.3",name:"15.8.1.3 LN2"},{section:"x15.8.1.4",name:"15.8.1.4 LOG2E"},{section:"x15.8.1.5",name:"15.8.1.5 LOG10E"},{section:"x15.8.1.6",name:"15.8.1.6 PI"},{section:"x15.8.1.7",name:"15.8.1.7 SQRT1_2"},{section:"x15.8.1.8",name:"15.8.1.8 SQRT2"},{section:"x15.8.2",name:"15.8.2 Function Properties of the Math Object"},{section:"x15.8.2.1",name:"15.8.2.1 abs (x)"},{section:"x15.8.2.2",name:"15.8.2.2 acos (x)"},{section:"x15.8.2.3",name:"15.8.2.3 asin (x)"},{section:"x15.8.2.4",name:"15.8.2.4 atan (x)"},{section:"x15.8.2.5",name:"15.8.2.5 atan2 (y, x)"},{section:"x15.8.2.6",name:"15.8.2.6 ceil (x)"},{section:"x15.8.2.7",name:"15.8.2.7 cos (x)"},{section:"x15.8.2.8",name:"15.8.2.8 exp (x)"},{section:"x15.8.2.9",name:"15.8.2.9 floor (x)"},{section:"x15.8.2.10",name:"15.8.2.10 log (x)"},{section:"x15.8.2.11",name:"15.8.2.11 max ( [ value1 [ , value2 [ , … ] ] ] )"},{section:"x15.8.2.12",name:"15.8.2.12 min ( [ value1 [ , value2 [ , … ] ] ] )"},{section:"x15.8.2.13",name:"15.8.2.13 pow (x, y)"},{section:"x15.8.2.14",name:"15.8.2.14 random ( )"},{section:"x15.8.2.15",name:"15.8.2.15 round (x)"},{section:"x15.8.2.16",name:"15.8.2.16 sin (x)"},{section:"x15.8.2.17",name:"15.8.2.17 sqrt (x)"},{section:"x15.8.2.18",name:"15.8.2.18 tan (x)"},{section:"x15.9",name:"15.9 Date Objects"},{section:"x15.9.1",name:"15.9.1 Overview of Date Objects and Definitions of Abstract Operators"},{section:"x15.9.1.1",name:"15.9.1.1 Time Values and Time Range"},{section:"x15.9.1.2",name:"15.9.1.2 Day Number and Time within Day"},{section:"x15.9.1.3",name:"15.9.1.3 Year Number"},{section:"x15.9.1.4",name:"15.9.1.4 Month Number"},{section:"x15.9.1.5",name:"15.9.1.5 Date Number"},{section:"x15.9.1.6",name:"15.9.1.6 Week Day"},{section:"x15.9.1.7",name:"15.9.1.7 Local Time Zone Adjustment"},{section:"x15.9.1.8",name:"15.9.1.8 Daylight Saving Time Adjustment"},{section:"x15.9.1.9",name:"15.9.1.9 Local Time"},{section:"x15.9.1.10",name:"15.9.1.10 Hours, Minutes, Second, and Milliseconds"},{section:"x15.9.1.11",name:"15.9.1.11 MakeTime (hour, min, sec, ms)"},{section:"x15.9.1.12",name:"15.9.1.12 MakeDay (year, month, date)"},{section:"x15.9.1.13",name:"15.9.1.13 MakeDate (day, time)"},{section:"x15.9.1.14",name:"15.9.1.14 TimeClip (time)"},{section:"x15.9.1.15",name:"15.9.1.15 Date Time String Format"},{section:"x15.9.1.15.1",name:"15.9.1.15.1 Extended years"},{section:"x15.9.2",name:"15.9.2 The Date Constructor Called as a Function"},{section:"x15.9.2.1",name:"15.9.2.1 Date ( [ year [, month [, date [, hours [, minutes [, seconds [, ms ] ] ] ] ] ] ] )"},{section:"x15.9.3",name:"15.9.3 The Date Constructor"},{section:"x15.9.3.1",name:"15.9.3.1 new Date (year, month [, date [, hours [, minutes [, seconds [, ms ] ] ] ] ] )"},{section:"x15.9.3.2",name:"15.9.3.2 new Date (value)"},{section:"x15.9.3.3",name:"15.9.3.3 new Date ( )"},{section:"x15.9.4",name:"15.9.4 Properties of the Date Constructor"},{section:"x15.9.4.1",name:"15.9.4.1 Date.prototype"},{section:"x15.9.4.2",name:"15.9.4.2 Date.parse (string)"},{section:"x15.9.4.3",name:"15.9.4.3 Date.UTC (year, month [, date [, hours [, minutes [, seconds [, ms ] ] ] ] ])"},{section:"x15.9.4.4",name:"15.9.4.4 Date.now ( )"},{section:"x15.9.5",name:"15.9.5 Properties of the Date Prototype Object"},{section:"x15.9.5.1",name:"15.9.5.1 Date.prototype.constructor"},{section:"x15.9.5.2",name:"15.9.5.2 Date.prototype.toString ( )"},{section:"x15.9.5.3",name:"15.9.5.3 Date.prototype.toDateString ( )"},{section:"x15.9.5.4",name:"15.9.5.4 Date.prototype.toTimeString ( )"},{section:"x15.9.5.5",name:"15.9.5.5 Date.prototype.toLocaleString ( )"},{section:"x15.9.5.6",name:"15.9.5.6 Date.prototype.toLocaleDateString ( )"},{section:"x15.9.5.7",name:"15.9.5.7 Date.prototype.toLocaleTimeString ( )"},{section:"x15.9.5.8",name:"15.9.5.8 Date.prototype.valueOf ( )"},{section:"x15.9.5.9",name:"15.9.5.9 Date.prototype.getTime ( )"},{section:"x15.9.5.10",name:"15.9.5.10 Date.prototype.getFullYear ( )"},{section:"x15.9.5.11",name:"15.9.5.11 Date.prototype.getUTCFullYear ( )"},{section:"x15.9.5.12",name:"15.9.5.12 Date.prototype.getMonth ( )"},{section:"x15.9.5.13",name:"15.9.5.13 Date.prototype.getUTCMonth ( )"},{section:"x15.9.5.14",name:"15.9.5.14 Date.prototype.getDate ( )"},{section:"x15.9.5.15",name:"15.9.5.15 Date.prototype.getUTCDate ( )"},{section:"x15.9.5.16",name:"15.9.5.16 Date.prototype.getDay ( )"},{section:"x15.9.5.17",name:"15.9.5.17 Date.prototype.getUTCDay ( )"},{section:"x15.9.5.18",name:"15.9.5.18 Date.prototype.getHours ( )"},{section:"x15.9.5.19",name:"15.9.5.19 Date.prototype.getUTCHours ( )"},{section:"x15.9.5.20",name:"15.9.5.20 Date.prototype.getMinutes ( )"},{section:"x15.9.5.21",name:"15.9.5.21 Date.prototype.getUTCMinutes ( )"},{section:"x15.9.5.22",name:"15.9.5.22 Date.prototype.getSeconds ( )"},{section:"x15.9.5.23",name:"15.9.5.23 Date.prototype.getUTCSeconds ( )"},{section:"x15.9.5.24",name:"15.9.5.24 Date.prototype.getMilliseconds ( )"},{section:"x15.9.5.25",name:"15.9.5.25 Date.prototype.getUTCMilliseconds ( )"},{section:"x15.9.5.26",name:"15.9.5.26 Date.prototype.getTimezoneOffset ( )"},{section:"x15.9.5.27",name:"15.9.5.27 Date.prototype.setTime (time)"},{section:"x15.9.5.28",name:"15.9.5.28 Date.prototype.setMilliseconds (ms)"},{section:"x15.9.5.29",name:"15.9.5.29 Date.prototype.setUTCMilliseconds (ms)"},{section:"x15.9.5.30",name:"15.9.5.30 Date.prototype.setSeconds (sec [, ms ] )"},{section:"x15.9.5.31",name:"15.9.5.31 Date.prototype.setUTCSeconds (sec [, ms ] )"},{section:"x15.9.5.32",name:"15.9.5.32 Date.prototype.setMinutes (min [, sec [, ms ] ] )"},{section:"x15.9.5.33",name:"15.9.5.33 Date.prototype.setUTCMinutes (min [, sec [, ms ] ] )"},{section:"x15.9.5.34",name:"15.9.5.34 Date.prototype.setHours (hour [, min [, sec [, ms ] ] ] )"},{section:"x15.9.5.35",name:"15.9.5.35 Date.prototype.setUTCHours (hour [, min [, sec [, ms ] ] ] )"},{section:"x15.9.5.36",name:"15.9.5.36 Date.prototype.setDate (date)"},{section:"x15.9.5.37",name:"15.9.5.37 Date.prototype.setUTCDate (date)"},{section:"x15.9.5.38",name:"15.9.5.38 Date.prototype.setMonth (month [, date ] )"},{section:"x15.9.5.39",name:"15.9.5.39 Date.prototype.setUTCMonth (month [, date ] )"},{section:"x15.9.5.40",name:"15.9.5.40 Date.prototype.setFullYear (year [, month [, date ] ] )"},{section:"x15.9.5.41",name:"15.9.5.41 Date.prototype.setUTCFullYear (year [, month [, date ] ] )"},{section:"x15.9.5.42",name:"15.9.5.42 Date.prototype.toUTCString ( )"},{section:"x15.9.5.43",name:"15.9.5.43 Date.prototype.toISOString ( )"},{section:"x15.9.5.44",name:"15.9.5.44 Date.prototype.toJSON ( key )"},{section:"x15.9.6",name:"15.9.6 Properties of Date Instances"},{section:"x15.10",name:"15.10 RegExp (Regular Expression) Objects"},{section:"x15.10.1",name:"15.10.1 Patterns"},{section:"x15.10.2",name:"15.10.2 Pattern Semantics"},{section:"x15.10.2.1",name:"15.10.2.1 Notation"},{section:"x15.10.2.2",name:"15.10.2.2 Pattern"},{section:"x15.10.2.3",name:"15.10.2.3 Disjunction"},{section:"x15.10.2.4",name:"15.10.2.4 Alternative"},{section:"x15.10.2.5",name:"15.10.2.5 Term"},{section:"x15.10.2.6",name:"15.10.2.6 Assertion"},{section:"x15.10.2.7",name:"15.10.2.7 Quantifier"},{section:"x15.10.2.8",name:"15.10.2.8 Atom"},{section:"x15.10.2.9",name:"15.10.2.9 AtomEscape"},{section:"x15.10.2.10",name:"15.10.2.10 CharacterEscape"},{section:"x15.10.2.11",name:"15.10.2.11 DecimalEscape"},{section:"x15.10.2.12",name:"15.10.2.12 CharacterClassEscape"},{section:"x15.10.2.13",name:"15.10.2.13 CharacterClass"},{section:"x15.10.2.14",name:"15.10.2.14 ClassRanges"},{section:"x15.10.2.15",name:"15.10.2.15 NonemptyClassRanges"},{section:"x15.10.2.16",name:"15.10.2.16 NonemptyClassRangesNoDash"},{section:"x15.10.2.17",name:"15.10.2.17 ClassAtom"},{section:"x15.10.2.18",name:"15.10.2.18 ClassAtomNoDash"},{section:"x15.10.2.19",name:"15.10.2.19 ClassEscape"},{section:"x15.10.3",name:"15.10.3 The RegExp Constructor Called as a Function"},{section:"x15.10.3.1",name:"15.10.3.1 RegExp(pattern, flags)"},{section:"x15.10.4",name:"15.10.4 The RegExp Constructor"},{section:"x15.10.4.1",name:"15.10.4.1 new RegExp(pattern, flags)"},{section:"x15.10.5",name:"15.10.5 Properties of the RegExp Constructor"},{section:"x15.10.5.1",name:"15.10.5.1 RegExp.prototype"},{section:"x15.10.6",name:"15.10.6 Properties of the RegExp Prototype Object"},{section:"x15.10.6.1",name:"15.10.6.1 RegExp.prototype.constructor"},{section:"x15.10.6.2",name:"15.10.6.2 RegExp.prototype.exec(string)"},{section:"x15.10.6.3",name:"15.10.6.3 RegExp.prototype.test(string)"},{section:"x15.10.6.4",name:"15.10.6.4 RegExp.prototype.toString()"},{section:"x15.10.7",name:"15.10.7 Properties of RegExp Instances"},{section:"x15.10.7.1",name:"15.10.7.1 source"},{section:"x15.10.7.2",name:"15.10.7.2 global"},{section:"x15.10.7.3",name:"15.10.7.3 ignoreCase"},{section:"x15.10.7.4",name:"15.10.7.4 multiline"},{section:"x15.10.7.5",name:"15.10.7.5 lastIndex"},{section:"x15.11",name:"15.11 Error Objects"},{section:"x15.11.1",name:"15.11.1 The Error Constructor Called as a Function"},{section:"x15.11.1.1",name:"15.11.1.1 Error (message)"},{section:"x15.11.2",name:"15.11.2 The Error Constructor"},{section:"x15.11.2.1",name:"15.11.2.1 new Error (message)"},{section:"x15.11.3",name:"15.11.3 Properties of the Error Constructor"},{section:"x15.11.3.1",name:"15.11.3.1 Error.prototype"},{section:"x15.11.4",name:"15.11.4 Properties of the Error Prototype Object"},{section:"x15.11.4.1",name:"15.11.4.1 Error.prototype.constructor"},{section:"x15.11.4.2",name:"15.11.4.2 Error.prototype.name"},{section:"x15.11.4.3",name:"15.11.4.3 Error.prototype.message"},{section:"x15.11.4.4",name:"15.11.4.4 Error.prototype.toString ( )"},{section:"x15.11.5",name:"15.11.5 Properties of Error Instances"},{section:"x15.11.6",name:"15.11.6 Native Error Types Used in This Standard"},{section:"x15.11.6.1",name:"15.11.6.1 EvalError"},{section:"x15.11.6.2",name:"15.11.6.2 RangeError"},{section:"x15.11.6.3",name:"15.11.6.3 ReferenceError"},{section:"x15.11.6.4",name:"15.11.6.4 SyntaxError"},{section:"x15.11.6.5",name:"15.11.6.5 TypeError"},{section:"x15.11.6.6",name:"15.11.6.6 URIError"},{section:"x15.11.7",name:"15.11.7 NativeError Object Structure"},{section:"x15.11.7.1",name:"15.11.7.1 NativeError Constructors Called as Functions"},{section:"x15.11.7.2",name:"15.11.7.2 NativeError (message)"},{section:"x15.11.7.3",name:"15.11.7.3 The NativeError Constructors"},{section:"x15.11.7.4",name:"15.11.7.4 New NativeError (message)"},{section:"x15.11.7.5",name:"15.11.7.5 Properties of the NativeError Constructors"},{section:"x15.11.7.6",name:"15.11.7.6 NativeError.prototype"},{section:"x15.11.7.7",name:"15.11.7.7 Properties of the NativeError Prototype Objects"},{section:"x15.11.7.8",name:"15.11.7.8 NativeError.prototype.constructor"},{section:"x15.11.7.9",name:"15.11.7.9 NativeError.prototype.name"},{section:"x15.11.7.10",name:"15.11.7.10 NativeError.prototype.message"},{section:"x15.11.7.11",name:"15.11.7.11 Properties of NativeError Instances"},{section:"x15.12",name:"15.12 The JSON Object"},{section:"x15.12.1",name:"15.12.1 The JSON Grammar  "},{section:"x15.12.1.1",name:"15.12.1.1 The JSON Lexical Grammar"},{section:"x15.12.1.2",name:"15.12.1.2 The JSON Syntactic Grammar"},{section:"x15.12.2",name:"15.12.2 parse ( text [ , reviver ] )"},{section:"x15.12.3",name:"15.12.3 stringify ( value [ , replacer [ , space ] ] )"},{section:"x16",name:"16 Errors"},{section:"A",name:"Annex A (informative) Grammar Summary"},{section:"A.1",name:"A.1 Lexical Grammar"},{section:"A.2",name:"A.2 Number Conversions"},{section:"A.3",name:"A.3 Expressions"},{section:"A.4",name:"A.4 Statements"},{section:"A.5",name:"A.5 Functions and Programs"},{section:"A.6",name:"A.6 Universal Resource Identifier Character Classes"},{section:"A.7",name:"A.7 Regular Expressions"},{section:"A.8",name:"A.8 JSON"},{section:"A.8.1",name:"A.8.1 JSON Lexical Grammar"},{section:"A.8.2",name:"A.8.2 JSON Syntactic Grammar"},{section:"B",name:"Annex B (informative) Compatibility"},{section:"B.1",name:"B.1 Additional Syntax"},{section:"B.1.1",name:"B.1.1 Numeric Literals"},{section:"B.1.2",name:"B.1.2 String Literals"},{section:"B.2",name:"B.2 Additional Properties"},{section:"B.2.1",name:"B.2.1 escape (string)"},{section:"B.2.2",name:"B.2.2 unescape (string)"},{section:"B.2.3",name:"B.2.3 String.prototype.substr (start, length)"},{section:"B.2.4",name:"B.2.4 Date.prototype.getYear ( )"},{section:"B.2.5",name:"B.2.5 Date.prototype.setYear (year)"},{section:"B.2.6",name:"B.2.6 Date.prototype.toGMTString ( )"},{section:"C",name:"Annex C (informative) The Strict Mode of ECMAScript"},{section:"D",name:"Annex D (informative) Corrections and Clarifications in the 5th Edition with Possible 3rd Edition Compatibility Impact"},{section:"E",name:"Annex E (informative) Additions and Changes in the 5th Edition that Introduce Incompatibilities with the 3rd Edition"},{section:"bibliography",name:"Bibliography"}],spec=function(a){var b=a.toLowerCase(),c=specParts.filter(function(a){return~a.name.toLowerCase().indexOf(b)}).map(function(a){var b=a.name.replace(/([\(\)\[\]])/g,"\\$1");return"["+b+"](http://es5.github.com/#"+a.section+")"});return bot.log(c,"/spec done"),c.length?c.join(", "):a+" could not be found in spec"};bot.addCommand({name:"spec",fun:spec,permissions:{del:"NONE"},description:"Find a section in the ES5 spec"});var list=JSON.parse(localStorage.getItem("todo")||"{}"),userlist=function(a){var b=list[a],c=[];return b||(b=list[a]=[]),{get:function(a){return b.map(function(a,b){return"("+(b+1)+")"+a}).join(", ")},add:function(a){return b.push(a),!0},remove:function(a){return c.push(b.indexOf(a)),!0},removeByIndex:function(a){return a>=b.length?!1:(c.push(a),!0)},save:function(){bot.log(c.slice(),b.slice()),b=b.filter(function(a,b){return c.indexOf(b)===-1}),c.length=0,list[a]=b},exists:function(a){return a=a.toLowerCase(),b.some(function(b){return a===b.toLowerCase()})}}},todo=function(a){var b=a.parse();bot.log(b,"todo input"),b[0]||(b=["get"]);var c=b[0],d=userlist(a.get("user_id")),e=b.slice(1),f,g;return c==="get"?(g=d.get(e[0]),g||(g="No items on your todo."),bot.log(g,"todo get")):c==="add"?(f=e.every(function(a){return d.exists(a)?(g=a+" already exists.",!1):(d.add(a),!0)}),f&&(g="Items added."),bot.log(g,"todo add")):c==="remove"?(f=e.every(function(a){if(/^\d+$/.test(a))d.removeByIndex(Number(a-1));else{if(!d.exists(a))return g=a+" does not exist.",!1;d.remove(a)}return!0}),f&&(g="Items removed."),bot.log(g,"todo remove")):(g="Unidentified /todo action "+c,bot.log(g,"todo undefined")),d.save(),localStorage.setItem("todo",JSON.stringify(list)),g};bot.addCommand({name:"todo",fun:todo,permissions:{del:"NONE"},description:"Your personal todo list. `/get [count]` retrieves everything or count items. `/add [items]` adds n-items to your todo list (make sure items with spaces are wrapped in quotes) `/remove [indices]` removes items specified by indice"})